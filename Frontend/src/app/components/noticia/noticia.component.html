<div class="content">
    
    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-container">
        <div class="spinner-border text-danger" role="status">
            <span class="visually-hidden">Cargando noticia...</span>
        </div>
        <p class="mt-3 text-muted">Cargando noticia...</p>
    </div>

    <!-- Not Found State -->
    <div *ngIf="notFound && !isLoading" class="not-found-container">
        <i class="fas fa-exclamation-triangle"></i>
        <h2>Noticia no encontrada</h2>
        <p>Lo sentimos, la noticia que buscas no existe o ha sido eliminada.</p>
        <button class="btn-new" (click)="volver()">
            <i class="fa-solid fa-angle-left"></i>
            Volver al inicio
        </button>
    </div>

    <!-- Noticia Content -->
    <article class="post" *ngIf="noticia && !isLoading">
        <div class="img-new">
            <div class="img-new-slide">
                <div>
                    <div class="slide">
                        <img [src]="getImageUrl()" 
                             width="100%" 
                             height="500px" 
                             [alt]="noticia.titulo">
                    </div>
                </div>
            </div>
        </div>
        <div class="triangle-bottom-left" style="border-right-width: 1106px;"></div>
        
        <div class="single-top">
            <div class="single-fecha">
                <h6>{{ getCategoria() }} • {{ formatearFecha(noticia.publicacion || noticia.creacion) }}</h6>
            </div>
            <h1 class="entry-title">
                {{ noticia.titulo }}
            </h1>
            <div class="subtitulo" *ngIf="noticia.subtitulo">
                {{ noticia.subtitulo }}
            </div>
        </div>
        
        <div class="entry-content">
            <div class="single-sidebar">
                <div class="single-share">
                    <div class="single-share-title">
                        COMPARTIR
                        <i class="fas fa-share-alt"></i>
                    </div>
                    <div class="single-share-div">
                        <a (click)="compartirFacebook()" 
                           style="cursor: pointer;" 
                           title="Compartir en Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                    </div>
                    <div class="single-share-div">
                        <a (click)="compartirTwitter()" 
                           style="cursor: pointer;" 
                           title="Compartir en Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- ⬇️ ARREGLADO: Agregar wrapper <p> y usar nl2br pipe -->
            <p [innerHTML]="noticia.cuerpo | nl2br"></p>
        </div>
        
        <h5 class="fin-text">
            <strong>Para leer más noticias como esta, vuelve al inicio y mantente al día con todas las novedades del club.</strong>
        </h5>
        
        <div class="button-container">
            <button class="btn-new" (click)="volver()">
                <i class="fa-solid fa-angle-left"></i>
                Volver
            </button>
        </div>
    </article>
</div>